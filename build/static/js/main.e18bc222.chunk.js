(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{122:function(e,a,t){e.exports={component:"DashboardLayout_component__12V8O"}},123:function(e,a,t){e.exports={component:"Card_component__Xfm4t"}},252:function(e,a){},254:function(e,a){},279:function(e,a){},281:function(e,a){},294:function(e,a,t){},295:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t(1),s=t.n(c),r=t(121),l=t.n(r),o=t(11),i=t.n(o),d=t(20),u=t(24),p=t(8),h={lastUpdated:void 0,allVaccines:[],allCasesAndDeaths:[],positive:{daily:null,total:null},deaths:{daily:null,total:null},vaccine1:{daily:null,total:null},vaccine2:{daily:null,total:null},newsStories:[]},b=s.a.createContext(),j=function(e){var a=e.children,t=Object(c.useState)(h),s=Object(p.a)(t,2),r=s[0],l=s[1];return Object(n.jsx)(b.Provider,{value:{appData:r,setAppData:function(e){l(e)}},children:a})},D=b,v=t(38),m=t.n(v),C=function(){var e=Object(c.useContext)(D).appData;return Object(n.jsxs)("div",{className:m.a.component,children:[Object(n.jsx)("h1",{className:m.a.title,children:"COVID-19 UK | Overview"}),Object(n.jsx)("p",{className:m.a.date,children:"Last updated: ".concat((null===e||void 0===e?void 0:e.lastUpdated)||"fetching")})]})},y=t(122),O=t.n(y),f=function(e){var a=e.children;return Object(n.jsx)("div",{className:O.a.component,children:a})},w=t(37),x=t(16),_=t.n(x),P=t(123),g=t.n(P),B=function(e){var a=e.children,t=e.className;return Object(n.jsx)("div",{className:_()(g.a.component,t),children:a})};function N(){return(N=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function V(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var S=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M256,0C114.833,0,0,114.833,0,256s114.833,256,256,256s256-114.853,256-256S397.167,0,256,0z M256,472.341 c-119.275,0-216.341-97.046-216.341-216.341S136.725,39.659,256,39.659c119.295,0,216.341,97.046,216.341,216.341 S375.275,472.341,256,472.341z"}))),E=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M369.227,283.365l-99.148-99.148c-7.734-7.694-20.226-7.694-27.96,0l-99.148,99.148c-6.365,7.416-6.365,18.382,0,25.798 c7.119,8.309,19.651,9.28,27.96,2.161L256,226.256l85.267,85.069c7.734,7.694,20.226,7.694,27.96,0 C376.921,303.591,376.921,291.098,369.227,283.365z"}))),k=c.createElement("g",null),F=c.createElement("g",null),L=c.createElement("g",null),A=c.createElement("g",null),T=c.createElement("g",null),I=c.createElement("g",null),W=c.createElement("g",null),H=c.createElement("g",null),R=c.createElement("g",null),U=c.createElement("g",null),z=c.createElement("g",null),K=c.createElement("g",null),M=c.createElement("g",null),G=c.createElement("g",null),J=c.createElement("g",null);function X(e,a){var t=e.title,n=e.titleId,s=V(e,["title","titleId"]);return c.createElement("svg",N({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:a,"aria-labelledby":n},s),t?c.createElement("title",{id:n},t):null,S,E,k,F,L,A,T,I,W,H,R,U,z,K,M,G,J)}var q=c.forwardRef(X),Q=(t.p,t(3)),Z=t.n(Q),Y=function(e){var a=e.title,t=e.dayCount,c=e.totalCount,s=e.negative;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:Z.a.dataCardHeadWrap,children:[Object(n.jsx)("div",{className:Z.a.dataCardIcon,children:Object(n.jsx)(q,{title:"".concat(s?"Down":"Up"," from previous day"),className:_()(Z.a.arrow,Object(w.a)({},Z.a.down,s))})}),Object(n.jsx)("h3",{className:Z.a.dataCardTitle,children:a})]}),Object(n.jsxs)("div",{className:Z.a.dataCardContent,children:[Object(n.jsx)("p",{className:Z.a.dataCardCount,children:t.toLocaleString()}),Object(n.jsx)("p",{className:Z.a.dataCardLabel,children:"Latest daily"}),Object(n.jsx)("p",{className:Z.a.dataCardCount,children:c.toLocaleString()}),Object(n.jsx)("p",{className:Z.a.dataCardLabel,children:"Cumulative total"})]})]})},$=function(){var e=Object(c.useContext)(D).appData;return Object(n.jsxs)("div",{className:Z.a.component,children:[Object(n.jsx)(B,{className:Z.a.dataCard,children:Object(n.jsx)(Y,{title:"Positive cases",dayCount:(null===e||void 0===e?void 0:e.positive.daily)||"-",totalCount:(null===e||void 0===e?void 0:e.positive.total)||"-",negative:!e.positive.increase})}),Object(n.jsx)(B,{className:Z.a.dataCard,children:Object(n.jsx)(Y,{title:"Deaths",dayCount:(null===e||void 0===e?void 0:e.deaths.daily)||"-",totalCount:(null===e||void 0===e?void 0:e.deaths.total)||"-",negative:!e.deaths.increase})}),Object(n.jsx)(B,{className:Z.a.dataCard,children:Object(n.jsx)(Y,{title:"Vaccines (1st Dose)",dayCount:(null===e||void 0===e?void 0:e.vaccine1.daily)||"-",totalCount:(null===e||void 0===e?void 0:e.vaccine1.total)||"-",negative:!e.vaccine1.increase})}),Object(n.jsx)(B,{className:Z.a.dataCard,children:Object(n.jsx)(Y,{title:"Vaccines (2nd Dose)",dayCount:(null===e||void 0===e?void 0:e.vaccine2.daily)||"-",totalCount:(null===e||void 0===e?void 0:e.vaccine2.total)||"-",negative:!e.vaccine2.increase})})]})},ee=t(124),ae=t(70),te=t.n(ae),ne=function(e){var a=e.className,t=Object(c.useContext)(D).appData,s=Object(c.useState)([]),r=Object(p.a)(s,2),l=r[0],o=r[1],i=Object(c.useState)([]),d=Object(p.a)(i,2),u=d[0],h=d[1],b=Object(c.useState)([]),j=Object(p.a)(b,2),v=j[0],m=j[1],C=Object(c.useState)([]),y=Object(p.a)(C,2),O=y[0],f=y[1],w=Object(c.useState)([]),x=Object(p.a)(w,2),P=x[0],g=x[1],N=Object(c.useState)([]),V=Object(p.a)(N,2),S=V[0],E=V[1],k=Object(c.useState)([]),F=Object(p.a)(k,2),L=F[0],A=F[1],T=Object(c.useState)([]),I=Object(p.a)(T,2),W=I[0],H=I[1],R=Object(c.useState)(""),U=Object(p.a)(R,2),z=U[0],K=U[1];Object(c.useEffect)((function(){if(t.allCasesAndDeaths.length){for(var e=[],a=[],n=[],c=t.allCasesAndDeaths.length-1;c>=0;c--){var s=t.allCasesAndDeaths[c];e.push(s.newCasesByPublishDate),a.push(s.newDeathsByDeathDate),n.push(s.date)}h(e),o(n),m(a),H(e),A(n),K("New Cases")}if(t.allVaccines.length){for(var r=[],l=[],i=[],d=t.allVaccines.length-1;d>=0;d--){var u=t.allVaccines[d];r.push(u.date),l.push(u.newPeopleVaccinatedFirstDoseByPublishDate),i.push(u.newPeopleVaccinatedSecondDoseByPublishDate)}console.log(r),f(r),g(l),E(i)}}),[t]);var M={labels:L,datasets:[{label:z,fill:!1,lineTension:.5,borderColor:"#3a73c9",backgroundColor:"#3a73c9",borderWidth:2,pointRadius:0,pointHoverRadius:4,data:W}]};return Object(n.jsxs)(B,{className:_()(te.a.component,a),children:[Object(n.jsxs)("div",{className:te.a.buttonContainer,children:[Object(n.jsx)("button",{autoFocus:!0,title:"Filter by new cases",onClick:function(){H(u),A(l),K("New Cases")},children:"Cases"}),Object(n.jsx)("button",{title:"Filter by new deaths",onClick:function(){H(v),A(l),K("Deaths")},children:"Deaths"}),Object(n.jsx)("button",{title:"Filter by vaccinations (1st dose)",onClick:function(){H(P),A(O),K("Vaccinations (1st Dose)")},children:"Vaccinations (1st Dose)"}),Object(n.jsx)("button",{title:"Filter by vaccinations (2nd dose)",onClick:function(){H(S),A(O),K("Vaccinations (2nd Dose)")},children:"Vaccinations (2nd Dose)"})]}),Object(n.jsx)(ee.Bar,{data:M,options:{title:{display:!0,text:z,fontSize:20},legend:{display:!1,position:"bottom"}}})]})},ce=t(39),se=t.n(ce),re=function(e){var a=e.className,t=Object(c.useContext)(D).appData;return Object(n.jsxs)(B,{className:_()(se.a.component,a),children:[Object(n.jsx)("h4",{className:se.a.title,children:"COVID News - BBC News"}),t&&t.newsStories.length?Object(n.jsx)("ul",{className:se.a.newsList,children:t.newsStories.slice(0,5).map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:e.link,children:e.title})},e.title)}))}):Object(n.jsx)("p",{children:"Loading..."})]})},le=t(71),oe=t.n(le),ie=t(125),de=t.n(ie),ue=function(){var e=Object(u.a)(i.a.mark((function e(){var a,t,n,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.coronavirus.data.gov.uk/v1/data","overview","england",t=["areaType=".concat("overview")],n={date:"date",name:"areaName",code:"areaCode",newCasesByPublishDate:"newCasesByPublishDate",cumCasesByPublishDate:"cumCasesByPublishDate",newDeathsByDeathDate:"newDeaths28DaysByPublishDate",cumDeathsByDeathDate:"cumDeaths28DaysByPublishDate"},c={filters:t.join(";"),structure:JSON.stringify(n),format:"json"},"https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newPeopleVaccinatedFirstDoseByPublishDate%22:%22newPeopleVaccinatedFirstDoseByPublishDate%22,%22newPeopleVaccinatedSecondDoseByPublishDate%22:%22newPeopleVaccinatedSecondDoseByPublishDate%22,%22cumPeopleVaccinatedFirstDoseByPublishDate%22:%22cumPeopleVaccinatedFirstDoseByPublishDate%22,%22cumPeopleVaccinatedSecondDoseByPublishDate%22:%22cumPeopleVaccinatedSecondDoseByPublishDate%22%7D&format=json",e.next=9,oe.a.get("https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newPeopleVaccinatedFirstDoseByPublishDate%22:%22newPeopleVaccinatedFirstDoseByPublishDate%22,%22newPeopleVaccinatedSecondDoseByPublishDate%22:%22newPeopleVaccinatedSecondDoseByPublishDate%22,%22cumPeopleVaccinatedFirstDoseByPublishDate%22:%22cumPeopleVaccinatedFirstDoseByPublishDate%22,%22cumPeopleVaccinatedSecondDoseByPublishDate%22:%22cumPeopleVaccinatedSecondDoseByPublishDate%22%7D&format=json").then((function(e){var a=e.data.data[0],t=e.data.data[1];return{allVaccines:e.data.data,vaccine1:{daily:a.newPeopleVaccinatedFirstDoseByPublishDate,total:a.cumPeopleVaccinatedFirstDoseByPublishDate,increase:a.newPeopleVaccinatedFirstDoseByPublishDate>t.newPeopleVaccinatedFirstDoseByPublishDate},vaccine2:{daily:a.newPeopleVaccinatedSecondDoseByPublishDate,total:a.cumPeopleVaccinatedSecondDoseByPublishDate,increase:a.newPeopleVaccinatedSecondDoseByPublishDate>t.newPeopleVaccinatedSecondDoseByPublishDate}}})).catch((function(e){return console.error(e)}));case 9:return s=e.sent,e.next=12,oe.a.get(a,{params:c,timeout:1e4}).then((function(e){var a=e.data.data[0],t=e.data.data[1];return{lastUpdated:a.date,allCasesAndDeaths:e.data.data,positive:{daily:a.newCasesByPublishDate,total:a.cumCasesByPublishDate,increase:a.newCasesByPublishDate>t.newCasesByPublishDate},deaths:{daily:a.newDeathsByDeathDate,total:a.cumDeathsByDeathDate,increase:a.newDeathsByDeathDate>t.newDeathsByDeathDate}}})).catch((function(e){return console.error(e)}));case 12:return r=e.sent,e.abrupt("return",Object(d.a)(Object(d.a)({},r),s));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(u.a)(i.a.mark((function e(){var a,t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new de.a,"https://cors-anywhere.herokuapp.com/",e.next=4,a.parseURL("https://cors-anywhere.herokuapp.com/http://feeds.bbci.co.uk/news/health/rss.xml?edition=uk");case 4:return t=e.sent,n=[],t&&t.items.forEach((function(e){var a=e.title.toLowerCase();(a.includes("covid")||a.includes("coronavirus"))&&n.push({title:e.title,link:e.link})})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=t(40),be=t.n(he),je=function(){var e=Object(c.useContext)(D),a=e.appData,t=e.setAppData;return Object(c.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(u.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:return n=e.sent,e.next=5,pe();case 5:c=e.sent,t(Object(d.a)(Object(d.a)(Object(d.a)({},a),n),{},{newsStories:c}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]),Object(n.jsxs)(f,{children:[Object(n.jsx)(C,{}),Object(n.jsx)($,{}),Object(n.jsxs)("div",{className:be.a.graphNewsWrap,children:[Object(n.jsx)(ne,{className:be.a.graph}),Object(n.jsx)(re,{className:be.a.news})]})]})};t(294);l.a.render(Object(n.jsx)(j,{children:Object(n.jsx)(je,{})}),document.getElementById("root"))},3:function(e,a,t){e.exports={component:"DataCards_component__1C_F2",dataCard:"DataCards_dataCard__3ZslV",dataCardHeadWrap:"DataCards_dataCardHeadWrap__1-Qnf",dataCardIcon:"DataCards_dataCardIcon__3rG6E",arrow:"DataCards_arrow__23tg0",down:"DataCards_down__lSWvt",dataCardContent:"DataCards_dataCardContent__2xoqC",dataCardTitle:"DataCards_dataCardTitle___9Xgy",dataCardCount:"DataCards_dataCardCount__2AZS-",dataCardLabel:"DataCards_dataCardLabel__Bpg57"}},38:function(e,a,t){e.exports={component:"ContextBar_component__HDbsA",title:"ContextBar_title__1rn-K",date:"ContextBar_date__3u0H7"}},39:function(e,a,t){e.exports={component:"News_component__2dy6p",newsList:"News_newsList__3KluT"}},40:function(e,a,t){e.exports={graphNewsWrap:"App_graphNewsWrap__38ygo",graph:"App_graph__2aqvR",news:"App_news__140Ki"}},70:function(e,a,t){e.exports={component:"Graph_component__2EMOQ",buttonContainer:"Graph_buttonContainer__2oR0c"}}},[[295,1,2]]]);
//# sourceMappingURL=main.e18bc222.chunk.js.map